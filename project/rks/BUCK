# @generated by `cargo buckal`

load("@prelude//rust:cargo_buildscript.bzl", "buildscript_run")
load("@prelude//rust:cargo_package.bzl", "cargo")

cargo.rust_binary(
    name = "rks",
    srcs = glob(
        include = ["**/**"],
        exclude = ["BUCK"],
    ),
    crate = "rks",
    crate_root = "src/main.rs",
    edition = "2024",
    env = {
        "CARGO_CRATE_NAME": "rks",
        "CARGO_MANIFEST_DIR": ".",
        "CARGO_PKG_AUTHORS": "rk8s-dev team",
        "CARGO_PKG_DESCRIPTION": "Cluster scheduler and dispatcher for the RK8s container orchestration system.",
        "CARGO_PKG_NAME": "rks",
        "CARGO_PKG_REPOSITORY": "https://github.com/r2cn-dev/rk8s/tree/main/project/rks",
        "CARGO_PKG_VERSION": "0.1.0",
        "CARGO_PKG_VERSION_MAJOR": "0",
        "CARGO_PKG_VERSION_MINOR": "1",
        "CARGO_PKG_VERSION_PATCH": "0",
        "CARGO_PKG_VERSION_PRE": "",
    },
    named_deps = {
        "async_trait": "//third-party/rust/crates/async-trait-0.1.88:async-trait-0.1.88",
        "etcd_client": "//third-party/rust/crates/etcd-client-0.16.1:etcd-client-0.16.1",
        "native_tls": "//third-party/rust/crates/native-tls-0.2.14:native-tls-0.2.14",
        "netlink_packet_route": "//third-party/rust/crates/netlink-packet-route-0.22.0:netlink-packet-route-0.22.0",
        "tokio_util": "//third-party/rust/crates/tokio-util-0.7.13:tokio-util-0.7.13",
    },
    visibility = ["PUBLIC"],
    deps = [
        "//project/common:common",
        "//project/libcni:libcni",
        "//project/libscheduler:libscheduler",
        "//third-party/rust/crates/anyhow-1.0.99:anyhow-1.0.99",
        "//third-party/rust/crates/bincode-1.3.3:bincode-1.3.3",
        "//third-party/rust/crates/chrono-0.4.41:chrono-0.4.41",
        "//third-party/rust/crates/clap-4.5.32:clap-4.5.32",
        "//third-party/rust/crates/context-3.0.0:context-3.0.0",
        "//third-party/rust/crates/dotenvy-0.15.7:dotenvy-0.15.7",
        "//third-party/rust/crates/env_logger-0.11.7:env_logger-0.11.7",
        "//third-party/rust/crates/futures-0.3.31:futures-0.3.31",
        "//third-party/rust/crates/ipnetwork-0.17.0:ipnetwork-0.17.0",
        "//third-party/rust/crates/lazy_static-1.5.0:lazy_static-1.5.0",
        "//third-party/rust/crates/log-0.4.27:log-0.4.27",
        "//third-party/rust/crates/nix-0.29.0:nix-0.29.0",
        "//third-party/rust/crates/once_cell-1.21.3:once_cell-1.21.3",
        "//third-party/rust/crates/quinn-0.11.8:quinn-0.11.8",
        "//third-party/rust/crates/rand-0.9.1:rand-0.9.1",
        "//third-party/rust/crates/rcgen-0.12.1:rcgen-0.12.1",
        "//third-party/rust/crates/regex-1.11.1:regex-1.11.1",
        "//third-party/rust/crates/rtnetlink-0.16.0:rtnetlink-0.16.0",
        "//third-party/rust/crates/rustls-0.23.31:rustls-0.23.31",
        "//third-party/rust/crates/serde-1.0.219:serde-1.0.219",
        "//third-party/rust/crates/serde_json-1.0.140:serde_json-1.0.140",
        "//third-party/rust/crates/serde_yaml-0.9.34+deprecated:serde_yaml-0.9.34+deprecated",
        "//third-party/rust/crates/tempfile-3.20.0:tempfile-3.20.0",
        "//third-party/rust/crates/thiserror-2.0.12:thiserror-2.0.12",
        "//third-party/rust/crates/tokio-1.47.1:tokio-1.47.1",
        "//third-party/rust/crates/tonic-0.13.1:tonic-0.13.1",
    ],
)

cargo.rust_library(
    name = "librks",
    srcs = glob(
        include = ["**/**"],
        exclude = ["BUCK"],
    ),
    crate = "rks",
    crate_root = "src/lib.rs",
    edition = "2024",
    env = {
        "CARGO_CRATE_NAME": "rks",
        "CARGO_MANIFEST_DIR": ".",
        "CARGO_PKG_AUTHORS": "rk8s-dev team",
        "CARGO_PKG_DESCRIPTION": "Cluster scheduler and dispatcher for the RK8s container orchestration system.",
        "CARGO_PKG_NAME": "rks",
        "CARGO_PKG_REPOSITORY": "https://github.com/r2cn-dev/rk8s/tree/main/project/rks",
        "CARGO_PKG_VERSION": "0.1.0",
        "CARGO_PKG_VERSION_MAJOR": "0",
        "CARGO_PKG_VERSION_MINOR": "1",
        "CARGO_PKG_VERSION_PATCH": "0",
        "CARGO_PKG_VERSION_PRE": "",
    },
    named_deps = {
        "async_trait": "//third-party/rust/crates/async-trait-0.1.88:async-trait-0.1.88",
        "etcd_client": "//third-party/rust/crates/etcd-client-0.16.1:etcd-client-0.16.1",
        "native_tls": "//third-party/rust/crates/native-tls-0.2.14:native-tls-0.2.14",
        "netlink_packet_route": "//third-party/rust/crates/netlink-packet-route-0.22.0:netlink-packet-route-0.22.0",
        "tokio_util": "//third-party/rust/crates/tokio-util-0.7.13:tokio-util-0.7.13",
    },
    visibility = ["PUBLIC"],
    deps = [
        "//project/common:common",
        "//project/libcni:libcni",
        "//project/libscheduler:libscheduler",
        "//third-party/rust/crates/anyhow-1.0.99:anyhow-1.0.99",
        "//third-party/rust/crates/bincode-1.3.3:bincode-1.3.3",
        "//third-party/rust/crates/chrono-0.4.41:chrono-0.4.41",
        "//third-party/rust/crates/clap-4.5.32:clap-4.5.32",
        "//third-party/rust/crates/context-3.0.0:context-3.0.0",
        "//third-party/rust/crates/dotenvy-0.15.7:dotenvy-0.15.7",
        "//third-party/rust/crates/env_logger-0.11.7:env_logger-0.11.7",
        "//third-party/rust/crates/futures-0.3.31:futures-0.3.31",
        "//third-party/rust/crates/ipnetwork-0.17.0:ipnetwork-0.17.0",
        "//third-party/rust/crates/lazy_static-1.5.0:lazy_static-1.5.0",
        "//third-party/rust/crates/log-0.4.27:log-0.4.27",
        "//third-party/rust/crates/nix-0.29.0:nix-0.29.0",
        "//third-party/rust/crates/once_cell-1.21.3:once_cell-1.21.3",
        "//third-party/rust/crates/quinn-0.11.8:quinn-0.11.8",
        "//third-party/rust/crates/rand-0.9.1:rand-0.9.1",
        "//third-party/rust/crates/rcgen-0.12.1:rcgen-0.12.1",
        "//third-party/rust/crates/regex-1.11.1:regex-1.11.1",
        "//third-party/rust/crates/rtnetlink-0.16.0:rtnetlink-0.16.0",
        "//third-party/rust/crates/rustls-0.23.31:rustls-0.23.31",
        "//third-party/rust/crates/serde-1.0.219:serde-1.0.219",
        "//third-party/rust/crates/serde_json-1.0.140:serde_json-1.0.140",
        "//third-party/rust/crates/serde_yaml-0.9.34+deprecated:serde_yaml-0.9.34+deprecated",
        "//third-party/rust/crates/tempfile-3.20.0:tempfile-3.20.0",
        "//third-party/rust/crates/thiserror-2.0.12:thiserror-2.0.12",
        "//third-party/rust/crates/tokio-1.47.1:tokio-1.47.1",
        "//third-party/rust/crates/tonic-0.13.1:tonic-0.13.1",
    ],
)
