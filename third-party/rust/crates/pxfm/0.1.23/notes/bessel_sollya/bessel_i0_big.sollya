pretty = proc(u) {
  return ~(floor(u*1000)/1000);
};

bessel_i0_approximant = library("./cmake-build-release/libbessel_sollya.dylib");

prec = 500;

f = bessel_i0_approximant(1/x);
//f = sqrt(1/x) * exp(-1/x) * (2.59780277210771740096221707788581701134626033229944179534141469782417769044768017446002469666505676220698e-25*x^-24 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-23 + 1.49633439673404522295423703686223059853544595140447847411665486594672634969786378048897422527907269503122e-22*x^-22 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-21 + 7.24225848019277887909850725841319609691155840479767581472460955118215553253766069756663525035071184395112e-20*x^-20 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-19 + 2.89690339207711155163940290336527843876462336191907032588984382047286221301506427902665410014028473758045e-17*x^-18 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-17 + 9.38596699032984142731166540690350214159737969261778785588309397833207357016880826404635928445452254976064e-15*x^-16 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-15 + 2.40280754952443940539178634416729654824892920131015369110607205845301083396321491559586797682035777273872e-12*x^-14 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-13 + 4.70950279706790123456790123456790123456790123456790123456790123456790123456790123456790123456790123456790e-10*x^-12 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-11 + 6.78168402777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777778e-8*x^-10 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-9 + 6.78168402777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777778e-6*x^-8 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-7 + 0.000434027777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777778*x^-6 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-5 + 0.0156250000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-4 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-3 + 0.250000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-2 + 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000*x^-1 + 1.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);
d = [1/709.3, 1/9.5];
w = 1;
pf = remez(f, 29, d, 1, 1e-40);
//pf = fpminimax(f, 29, [|107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, D...|], d, relative, floating);

w = 1;
err_p = -log2(dirtyinfnorm(pf*w-f, d));
print ("relative error:", pretty(err_p));

for i from 0 to degree(pf) do {
    print("'", coeff(pf, i), "',");
};
