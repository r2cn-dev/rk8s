pretty = proc(u) {
  return ~(floor(u*1000)/1000);
};

prec = 500;

f = 3.27795319155365450882301786771320700150596675703135078794150359633915771477548518124528208276133735129736680957981809606098543787303701e-79*y^33 + 3.90076429794884886549939126257871633179210044086730743765038927964359768058282736568188567848599144804386650339998353431257267106891404e-76*y^32 + 4.37665754229860842709031699661331972427073669465311894504373677176011659761393230429507573126128240470521821681478152549870653693932156e-73*y^31 + 4.62175036466733049900737474842366562882989794955369360596618603097868312708031251333559997221191421936871043695640929092663410300792356e-70*y^30 + 4.58477636174999185501531575043627630379925876595726405711845654273085366206367001322891517243421890561376075346075801659922103018386017e-67*y^29 + 4.26384201642749242516424364790573696253331065234025557312016458473969390571921311230289111036382358222079750071850495543727555807098996e-64*y^28 + 3.70954255429191840989289197367799115740398026753602234861454318872353369797571540770351526601652651653209382562509931123042973552176127e-61*y^27 + 3.01214855408503774883302828262652881981203197723925014707500906924350936275628091105525439600541953142406018640758064071910894524367015e-58*y^26 + 2.27718430688828853811776938166565578777789617479287311118870685634809307824374836875777232338009716575658950092413096438364636260421463e-55*y^25 + 1.59858338343557855375867410592929036302008311470459692405447221315636134092711135486795617101282821036112582964873993699731974654815867e-52*y^24 + 1.03907919923312605994313816885403873596305402455798800063540693855163487160262238066417151115833833673473178927168095904825783525630314e-49*y^23 + 6.23447519539875635965882901312423241577832414734792800381244163130980922961573428398502906695003002040839073563008575428954701153781882e-47*y^22 + 3.44143030786011351053167361524457629350963492933605625810446778048301469474788532475973604495641657126543168606780733636782995036887599e-44*y^21 + 1.74136373577721743632902684931375560451587527424404446660086069692440543554242997432842643874794678506030843315031051220212195488665125e-41*y^20 + 8.04510045929074455584010404382955089286334376700748543569597641979075311220602648139733014701551414697862496115443456637380343157632878e-39*y^19 + 3.37894219290211271345284369840841137500260438214314388299231009631211630712653112218687866174651594173102248368486251787699744126205809e-36*y^18 + 1.28399803330280283111208060539519632250098966521439467553707783659860419670808182643101389146367605785778854380024775679325902767958207e-33*y^17 + 4.39127327389558568240331567045157142295338465503322979033680620116722635274163984639406750880577211787363681979684732823294587466417069e-31*y^16 + 1.34372962181204921881541459515818085542373570444016831584306269755717126393894179299658465769456626806933286685783528243928143764723623e-28*y^15 + 3.65494457132877387517792769883025192675256111607725781909313053735550583791392167695071026892922024914858539785331196823484551040048255e-26*y^14 + 8.77186697118905730042702647719260462420614667858541876582351328965321401099341202468170464543012859795660495484794872376362922496115812e-24*y^13 + 1.84209206394970203308967556021044697108329080250293794082293779082717494230861652518315797554032700557088704051806923199036213724184320e-21*y^12 + 3.35260755638845770022320951958301348737158926055534705229774677930545839500168207583334751548339515013901441374288600222245908978015463e-19*y^11 + 5.23006778796599401234820685054950104029967924646634140158448497571651509620262403830002212415409643421686248543890216346703618005704123e-17*y^10 + 6.90368948011511209629963304272534137319557660533557065009152016794579992698746373055602920388340729316625848077935085577648775767529442e-15*y^9 + 7.59405842812662330592959634699787551051513426586912771510067218474037991968621010361163212427174802248288432885728594135413653344282386e-13*y^8 + 6.83465258531396097533663671229808795946362083928221494359060496626634192771758909325046891184457322023459589597155734721872288009854147e-11*y^7 + 4.92094986142605190224237843285462333081380700428319475938523557571176618795666414714033761652809271856890904509952128999748047367094986e-9*y^6 + 2.75573192239858906525573192239858906525573192239858906525573192239858906525573192239858906525573192239858906525573192239858906525573192e-7*y^5 + 0.0000115740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740740741*y^4 + 0.000347222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222*y^3 + 0.00694444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444*y^2 + 0.0833333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333*y;
d = [0, 7.5];
w = 1;
pf = fpminimax(f, [|1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23|], [|127...|], d, relative, floating);

w = 1;
err_p = -log2(dirtyinfnorm(pf*w-f, d));
print ("relative error:", pretty(err_p));

for i from 1 to degree(pf) do {
    print("'", coeff(pf, i), "',");
};